{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nconst forM = document.querySelector('.feedback-form');\nconst gallerY = document.querySelector('.gallery');\nconst btN = document.querySelector('.but-sub');\nconst API_KEY = '47413156-c8c9abea8f6d88937b7892740';\nlet qData;\nlet promData;\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionDelay: 250,\n  captionsData: 'alt',\n});\n\nforM.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  qData = event.currentTarget.elements.photo.value.trim();\n  //   console.log(event.currentTarget.elements.photo.value);\n  searchData(`${qData}`);\n  event.target.reset();\n}\n\nfunction searchData(datA = '') {\n  if (datA === '') {\n    iziToast.show({\n      color: 'red',\n      position: 'topRight',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n    return;\n  }\n  const params = new URLSearchParams({\n    key: API_KEY,\n\n    q: `${qData}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  fetch(`https://pixabay.com/api/?${params}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      // console.log(response);\n\n      return response.json();\n    })\n    .then(data => {\n      if (!data.hits.length) {\n        iziToast.show({\n          color: 'red',\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n      promData = data.hits;\n      console.log(promData);\n      //   gallerY.innerHTML = createMarkup(data.hits);\n      gallerY.insertAdjacentHTML('afterbegin', createMarkup(data.hits));\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => console.log('ok'));\n\n  function createMarkup(arr) {\n    return arr\n      .map(\n        ({\n          id,\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => `<li data-id=\"${id}\" class=\"gallery-item\">\n            <a href=${largeImageURL} class=\"gallery-link\">\n            <img src=${webformatURL} class=\"gallery-image\" alt=${tags}> \n            <div class=\"wrap\"><h2 class=\"title-like\">Likes <span class=\"span-text\"> ${likes} </span></h2>\n             <h2 class=\"title-views\">Views <span class=\"span-text\"> ${views} </span></h2>\n             <h2 class=\"title-comments\">Comments <span class=\"span-text\">${comments}</span> </h2>\n             <h2 class=\"title-downloads\">Downloads <span class=\"span-text\">${downloads} </span></h2></div>\n</a>\n            </li>`\n      )\n      .join('');\n  }\n}\n\n// console.log(lightbox);\n"],"names":["forM","gallerY","API_KEY","qData","promData","lightbox","SimpleLightbox","handleSubmit","event","searchData","datA","iziToast","params","response","data","createMarkup","error","arr","id","webformatURL","largeImageURL","tags","likes","views","comments","downloads"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAU,SAAS,cAAc,UAAU,EACrC,SAAS,cAAc,UAAU,EAC7C,MAAMC,EAAU,qCAChB,IAAIC,EACAC,EACJ,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,IACd,aAAc,KAChB,CAAC,EAEDN,EAAK,iBAAiB,SAAUO,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBL,EAAQK,EAAM,cAAc,SAAS,MAAM,MAAM,OAEjDC,EAAW,GAAGN,CAAK,EAAE,EACrBK,EAAM,OAAO,OACf,CAEA,SAASC,EAAWC,EAAO,GAAI,CAC7B,GAAIA,IAAS,GAAI,CACfC,EAAS,KAAK,CACZ,MAAO,MACP,SAAU,WACV,QACE,0EACR,CAAK,EACD,MACD,CACD,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKV,EAEL,EAAG,GAAGC,CAAK,GACX,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,MAAM,4BAA4BS,CAAM,EAAE,EACvC,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAIrC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAI,CAACA,EAAK,KAAK,OAAQ,CACrBH,EAAS,KAAK,CACZ,MAAO,MACP,SAAU,WACV,QACE,0EACZ,CAAS,EACD,MACD,CACDP,EAAWU,EAAK,KAChB,QAAQ,IAAIV,CAAQ,EAEpBH,EAAQ,mBAAmB,aAAcc,EAAaD,EAAK,IAAI,CAAC,EAChET,EAAS,QAAO,CACtB,CAAK,EACA,MAAMW,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,QAAQ,IAAI,IAAI,CAAC,EAElC,SAASD,EAAaE,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CACC,GAAAC,EACA,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IAAc,gBAAgBP,CAAE;AAAA,sBACVE,CAAa;AAAA,uBACZD,CAAY,8BAA8BE,CAAI;AAAA,sFACiBC,CAAK;AAAA,sEACrBC,CAAK;AAAA,2EACAC,CAAQ;AAAA,6EACNC,CAAS;AAAA;AAAA,kBAG/E,EACA,KAAK,EAAE,CACX,CACH"}