{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// function add(a, b) {\n//     return a + b\n// }\nexport default createMarkup;\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        id,\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li data-id=\"${id}\" class=\"gallery-item\">\n            <a href=${largeImageURL} class=\"gallery-link\">\n            <img src=${webformatURL} class=\"gallery-image\" alt=${tags}> \n            <div class=\"wrap\"><h2 class=\"title-like\">Likes <span class=\"span-text\"> ${likes} </span></h2>\n             <h2 class=\"title-views\">Views <span class=\"span-text\"> ${views} </span></h2>\n             <h2 class=\"title-comments\">Comments <span class=\"span-text\">${comments}</span> </h2>\n             <h2 class=\"title-downloads\">Downloads <span class=\"span-text\">${downloads} </span></h2></div>\n</a>\n            </li>`\n    )\n    .join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport createMarkup from './js/render-functions';\n// import searchData from './js/pixabay-api';\n\nconst forM = document.querySelector('.feedback-form');\nconst gallerY = document.querySelector('.gallery');\nlet spn = document.querySelector('.loader');\n\nconst API_KEY = '47413156-c8c9abea8f6d88937b7892740';\nlet qData;\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionDelay: 250,\n  captionsData: 'alt',\n});\n\nforM.addEventListener('submit', handleSubmit);\nfunction handleSubmit(event) {\n  spn.classList.add('is-hidden');\n  event.preventDefault();\n  qData = event.currentTarget.elements.photo.value.trim();\n  searchData(`${qData}`);\n  event.target.reset();\n\n  function searchData(datA = '') {\n    if (datA === '') {\n      iziToast.show({\n        color: 'red',\n        position: 'topRight',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n      spn.classList.remove('is-hidden');\n      return;\n    }\n    const params = new URLSearchParams({\n      key: API_KEY,\n\n      q: `${qData}`,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n    });\n    // function fetcH() {\n    // https://anketa.patrolpolice.gov.ua\n    fetch(`https://anketa.patrolpolice.gov.ua/?${params}`)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n        console.log(response);\n\n        return response.json();\n      })\n      .then(data => {\n        if (!data.hits.length) {\n          iziToast.show({\n            color: 'red',\n            position: 'topRight',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n          gallerY.innerHTML = '';\n          spn.classList.remove('is-hidden');\n          return;\n        }\n        console.log(data);\n\n        gallerY.insertAdjacentHTML('afterbegin', createMarkup(data.hits));\n        lightbox.refresh();\n        spn.classList.remove('is-hidden');\n      })\n      .catch(error => {\n        iziToast.show({\n          color: 'red',\n          position: 'center',\n          message: `${error}`,\n        });\n        spn.classList.remove('is-hidden');\n      })\n      .finally(() => console.log('ok'));\n  }\n}\n"],"names":["createMarkup","arr","id","webformatURL","largeImageURL","tags","likes","views","comments","downloads","forM","gallerY","spn","API_KEY","qData","lightbox","SimpleLightbox","handleSubmit","event","searchData","datA","iziToast","params","response","data","error"],"mappings":"6vBAKA,SAASA,EAAaC,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CACC,GAAAC,EACA,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY,gBAAgBP,CAAE;AAAA,sBACRE,CAAa;AAAA,uBACZD,CAAY,8BAA8BE,CAAI;AAAA,sFACiBC,CAAK;AAAA,sEACrBC,CAAK;AAAA,2EACAC,CAAQ;AAAA,6EACNC,CAAS;AAAA;AAAA,kBAGjF,EACA,KAAK,EAAE,CACZ,CCpBA,MAAMC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAU,SAAS,cAAc,UAAU,EACjD,IAAIC,EAAM,SAAS,cAAc,SAAS,EAE1C,MAAMC,EAAU,qCAChB,IAAIC,EACJ,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,IACd,aAAc,KAChB,CAAC,EAEDN,EAAK,iBAAiB,SAAUO,CAAY,EAC5C,SAASA,EAAaC,EAAO,CAC3BN,EAAI,UAAU,IAAI,WAAW,EAC7BM,EAAM,eAAc,EACpBJ,EAAQI,EAAM,cAAc,SAAS,MAAM,MAAM,OACjDC,EAAW,GAAGL,CAAK,EAAE,EACrBI,EAAM,OAAO,QAEb,SAASC,EAAWC,EAAO,GAAI,CAC7B,GAAIA,IAAS,GAAI,CACfC,EAAS,KAAK,CACZ,MAAO,MACP,SAAU,WACV,QACE,0EACV,CAAO,EACDT,EAAI,UAAU,OAAO,WAAW,EAChC,MACD,CACD,MAAMU,EAAS,IAAI,gBAAgB,CACjC,IAAKT,EAEL,EAAG,GAAGC,CAAK,GACX,WAAY,QACZ,YAAa,aACb,WAAY,MAClB,CAAK,EAGD,MAAM,uCAAuCQ,CAAM,EAAE,EAClD,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,eAAQ,IAAIA,CAAQ,EAEbA,EAAS,MACxB,CAAO,EACA,KAAKC,GAAQ,CACZ,GAAI,CAACA,EAAK,KAAK,OAAQ,CACrBH,EAAS,KAAK,CACZ,MAAO,MACP,SAAU,WACV,QACE,0EACd,CAAW,EACDV,EAAQ,UAAY,GACpBC,EAAI,UAAU,OAAO,WAAW,EAChC,MACD,CACD,QAAQ,IAAIY,CAAI,EAEhBb,EAAQ,mBAAmB,aAAcX,EAAawB,EAAK,IAAI,CAAC,EAChET,EAAS,QAAO,EAChBH,EAAI,UAAU,OAAO,WAAW,CACxC,CAAO,EACA,MAAMa,GAAS,CACdJ,EAAS,KAAK,CACZ,MAAO,MACP,SAAU,SACV,QAAS,GAAGI,CAAK,EAC3B,CAAS,EACDb,EAAI,UAAU,OAAO,WAAW,CACxC,CAAO,EACA,QAAQ,IAAM,QAAQ,IAAI,IAAI,CAAC,CACnC,CACH"}