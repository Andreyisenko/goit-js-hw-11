{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nconst forM = document.querySelector('.feedback-form');\nconst gallerY = document.querySelector('.gallery');\nconst btN = document.querySelector('.but-sub');\nconst API_KEY = '47413156-c8c9abea8f6d88937b7892740';\nlet qData;\nlet promData;\n\nforM.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  qData = event.currentTarget.elements.photo.value.trim();\n  console.log(event.currentTarget.elements.photo.value);\n  searchData(`${qData}`);\n}\n\nfunction searchData(datA = '') {\n  if (datA === '') {\n    iziToast.show({\n      color: 'red',\n      position: 'topRight',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n    return;\n  }\n  const params = new URLSearchParams({\n    key: API_KEY,\n\n    q: `${qData}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  fetch(`https://pixabay.com/api/?${params}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    })\n    .then(data => {\n      promData = data.hits.length;\n      console.log(data.hits);\n      console.log(promData);\n      //   gallerY.innerHTML = createMarkup(data.hits);\n      gallerY.insertAdjacentHTML('afterbegin', createMarkup(data.hits));\n    })\n    .catch(error => {\n      console.log(error);\n    });\n\n  function createMarkup(arr) {\n    return arr\n      .map(\n        ({\n          id,\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => `<li data-id=\"${id}\" class=\"gallery-item\">\n    <a href=${largeImageURL} class=\"gallery-link\" ><img src=${webformatURL} class=\"gallery-image\" alt=${tags}></a> </li>`\n      )\n      .join('');\n  }\n}\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionDelay: 250,\n  captionsData: 'alt',\n});\n// console.log(lightbox);\n"],"names":["forM","gallerY","API_KEY","qData","promData","handleSubmit","event","searchData","datA","iziToast","params","response","data","createMarkup","error","arr","id","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAU,SAAS,cAAc,UAAU,EACrC,SAAS,cAAc,UAAU,EAC7C,MAAMC,EAAU,qCAChB,IAAIC,EACAC,EAEJJ,EAAK,iBAAiB,SAAUK,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBH,EAAQG,EAAM,cAAc,SAAS,MAAM,MAAM,OACjD,QAAQ,IAAIA,EAAM,cAAc,SAAS,MAAM,KAAK,EACpDC,EAAW,GAAGJ,CAAK,EAAE,CACvB,CAEA,SAASI,EAAWC,EAAO,GAAI,CAC7B,GAAIA,IAAS,GAAI,CACfC,EAAS,KAAK,CACZ,MAAO,MACP,SAAU,WACV,QACE,0EACR,CAAK,EACD,MACD,CACD,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKR,EAEL,EAAG,GAAGC,CAAK,GACX,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,MAAM,4BAA4BO,CAAM,EAAE,EACvC,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZR,EAAWQ,EAAK,KAAK,OACrB,QAAQ,IAAIA,EAAK,IAAI,EACrB,QAAQ,IAAIR,CAAQ,EAEpBH,EAAQ,mBAAmB,aAAcY,EAAaD,EAAK,IAAI,CAAC,CACtE,CAAK,EACA,MAAME,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EAEH,SAASD,EAAaE,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CACC,GAAAC,EACA,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IAAc,gBAAgBP,CAAE;AAAA,cAClBE,CAAa,mCAAmCD,CAAY,8BAA8BE,CAAI,aACrG,EACA,KAAK,EAAE,CACX,CACH,CAEiB,IAAIK,EAAe,aAAc,CAChD,aAAc,IACd,aAAc,KAChB,CAAC"}