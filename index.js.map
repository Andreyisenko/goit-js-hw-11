{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// import SimpleLightbox from \"simplelightbox\";\n// import \"simplelightbox/dist/simple-lightbox.min.css\";\nconst forM = document.querySelector('.feedback-form');\nconst gallerY = document.querySelector('.gallery');\nconst btN = document.querySelector('.but-sub');\nconst API_KEY = '47413156-c8c9abea8f6d88937b7892740';\nlet qData;\nlet promData;\n\n// const params = new URLSearchParams({\n//   key: API_KEY,\n//   q: \"dog\",\n// });\n\nforM.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  qData = event.currentTarget.elements.photo.value.trim();\n  console.log(event.currentTarget.elements.photo.value);\n  searchData(`${qData}`);\n}\n\nfunction searchData(datA = '') {\n  if (datA === '' || promData === 0) {\n    iziToast.show({\n      color: 'red',\n      position: 'topRight',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n    return;\n  }\n\n  fetch(\n    `https://pixabay.com/api/?key=${API_KEY}&q=${qData}&image_type=photo&orientation=horizontal?safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    })\n    .then(data => {\n      promData = data.hits.length;\n      console.log(data.hits);\n      console.log(promData);\n      // if (data.hits.length === 0) {\n      //     alert(\"ro\")\n      // }\n      gallerY.innerHTML = createMarkup(data.hits);\n    })\n    .catch(error => {\n      console.log(error);\n    });\n\n  function createMarkup(arr) {\n    return arr\n      .map(\n        ({ id, webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `<li data-id=\"${id}\" class=\"list-item\">\n    <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"300\"> </li>`\n      )\n      .join('');\n  }\n}\n// let tot = []\n// console.log(tot.length === [].length);\n"],"names":["forM","gallerY","API_KEY","qData","promData","handleSubmit","event","searchData","datA","iziToast","response","data","createMarkup","error","arr","id","webformatURL","largeImageURL","tags","likes","views","comments","downloads"],"mappings":"svBAKA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAU,SAAS,cAAc,UAAU,EACrC,SAAS,cAAc,UAAU,EAC7C,MAAMC,EAAU,qCAChB,IAAIC,EACAC,EAOJJ,EAAK,iBAAiB,SAAUK,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBH,EAAQG,EAAM,cAAc,SAAS,MAAM,MAAM,OACjD,QAAQ,IAAIA,EAAM,cAAc,SAAS,MAAM,KAAK,EACpDC,EAAW,GAAGJ,CAAK,EAAE,CACvB,CAEA,SAASI,EAAWC,EAAO,GAAI,CAC7B,GAAIA,IAAS,IAAMJ,IAAa,EAAG,CACjCK,EAAS,KAAK,CACZ,MAAO,MACP,SAAU,WACV,QACE,0EACR,CAAK,EACD,MACD,CAED,MACE,gCAAgCP,CAAO,MAAMC,CAAK,0DACnD,EACE,KAAKO,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZP,EAAWO,EAAK,KAAK,OACrB,QAAQ,IAAIA,EAAK,IAAI,EACrB,QAAQ,IAAIP,CAAQ,EAIpBH,EAAQ,UAAYW,EAAaD,EAAK,IAAI,CAChD,CAAK,EACA,MAAME,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EAEH,SAASD,EAAaE,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CAAE,GAAAC,EAAI,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM,gBAAgBP,CAAE;AAAA,gBAC3FC,CAAY,UAAUE,CAAI,sBACnC,EACA,KAAK,EAAE,CACX,CACH"}