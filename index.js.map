{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nconst forM = document.querySelector('.feedback-form');\nconst gallerY = document.querySelector('.gallery');\nconst btN = document.querySelector('.but-sub');\nconst API_KEY = '47413156-c8c9abea8f6d88937b7892740';\nlet qData;\nlet promData;\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n    captionsData: 'alt',\n});\n\n\nforM.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  qData = event.currentTarget.elements.photo.value.trim();\n//   console.log(event.currentTarget.elements.photo.value);\n  searchData(`${qData}`);\n}\n\nfunction searchData(datA = '') {\n  if (datA === '') {\n    iziToast.show({\n      color: 'red',\n      position: 'topRight',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n    return;\n  }\n  const params = new URLSearchParams({\n      key: API_KEY,\n      \n      q: `${qData}`,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n    });\n    \n    fetch(`https://pixabay.com/api/?${params}`)\n    .then(response => {\n        if (!response.ok) {\n            throw new Error(response.statusText);\n        }\n        return response.json();\n    })\n    .then(data => {\n        promData = data.hits;\n        console.log(data.hits.length);\n        console.log(promData);\n        //   gallerY.innerHTML = createMarkup(data.hits);\n        gallerY.insertAdjacentHTML('afterbegin', createMarkup(data.hits))\n        lightbox.refresh();\n    })\n    .catch(error => {\n        console.log(error);\n    });\n    \n    function createMarkup(arr) {\n        return arr\n        .map(\n            ({\n                id,\n                webformatURL,\n                largeImageURL,\n                tags,\n                likes,\n                views,\n                comments,\n                downloads,\n            }) => `<li data-id=\"${id}\" class=\"gallery-item\">\n            <a href=${largeImageURL} class=\"gallery-link\" ><img src=${webformatURL} class=\"gallery-image\" alt=${tags}></a> </li>`\n        )\n        .join('');\n    }\n}\n\n\nconsole.log(lightbox);\n\n\n"],"names":["forM","gallerY","API_KEY","qData","promData","lightbox","SimpleLightbox","handleSubmit","event","searchData","datA","iziToast","params","response","data","createMarkup","error","arr","id","webformatURL","largeImageURL","tags","likes","views","comments","downloads"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAU,SAAS,cAAc,UAAU,EACrC,SAAS,cAAc,UAAU,EAC7C,MAAMC,EAAU,qCAChB,IAAIC,EACAC,EACJ,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,IACd,aAAc,KAClB,CAAC,EAGDN,EAAK,iBAAiB,SAAUO,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBL,EAAQK,EAAM,cAAc,SAAS,MAAM,MAAM,OAEjDC,EAAW,GAAGN,CAAK,EAAE,CACvB,CAEA,SAASM,EAAWC,EAAO,GAAI,CAC7B,GAAIA,IAAS,GAAI,CACfC,EAAS,KAAK,CACZ,MAAO,MACP,SAAU,WACV,QACE,0EACR,CAAK,EACD,MACD,CACD,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKV,EAEL,EAAG,GAAGC,CAAK,GACX,WAAY,QACZ,YAAa,aACb,WAAY,MAClB,CAAK,EAED,MAAM,4BAA4BS,CAAM,EAAE,EACzC,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAOA,EAAS,MACxB,CAAK,EACA,KAAKC,GAAQ,CACVV,EAAWU,EAAK,KAChB,QAAQ,IAAIA,EAAK,KAAK,MAAM,EAC5B,QAAQ,IAAIV,CAAQ,EAEpBH,EAAQ,mBAAmB,aAAcc,EAAaD,EAAK,IAAI,CAAC,EAChET,EAAS,QAAO,CACxB,CAAK,EACA,MAAMW,GAAS,CACZ,QAAQ,IAAIA,CAAK,CACzB,CAAK,EAED,SAASD,EAAaE,EAAK,CACvB,OAAOA,EACN,IACG,CAAC,CACG,GAAAC,EACA,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CAChB,IAAkB,gBAAgBP,CAAE;AAAA,sBACdE,CAAa,mCAAmCD,CAAY,8BAA8BE,CAAI,aAC3G,EACA,KAAK,EAAE,CACX,CACL,CAGA,QAAQ,IAAIhB,CAAQ"}